<?xml version="1.0" encoding="iso-8859-1" standalone="yes"?>
<?xml-stylesheet type="text/xml" href="app.xsl"?>

<!--
updated: 23-Jun-2003, George A. Theall
-->

<app>
    <name>Nessus</name>
    <url>http://www.nessus.org/</url>

    <install>
        <basedir>/usr/local/src/SECURITY/NESSUS/%v</basedir>
        <workdir>%a</workdir>

        <durl>http://ftp.nessus.org/nessus/%a-%v/src/%f</durl>
        <verify>md5</verify>
        <vurl>http://ftp.nessus.org/nessus/%a-%v/src/MD5</vurl>

        <component>
            <name>nessus-libraries</name>
            <distfile>nessus-libraries-%v.tar.gz</distfile>

            <step>
                <label>Shut down daemon</label>
                <action>/etc/rc.d/init.d/nessus stop</action>   
            </step>
            <step>
                <label>Configure</label>
                <action>./configure  --enable-cipher</action>
            </step>
            <step>
                <label>Uninstall nessus</label>
                <action>./uninstall-nessus</action>
            </step>
            <step>
                <label>Make</label>
                <action>make</action>
            </step>
            <step>
                <label>Install</label>
                <action>make install</action>
            </step>
            <step>
                <label>Update run-time loader cache</label>
                <action>/sbin/ldconfig</action>
            </step>
        </component>

        <component>
            <name>libnasl</name>
            <distfile>libnasl-%v.tar.gz</distfile>
            <step>
                <label>Configure</label>
                <action>./configure</action>
            </step>
            <step>
                <label>Make</label>
                <action>make</action>
            </step>
            <step>
                <label>Install</label>
                <action>make install</action>
            </step>
        </component>

        <component>
            <name>nessus-core</name>
            <distfile>nessus-core-%v.tar.gz</distfile>
            <step>
                <label>Configure</label>
                <action>./configure  --enable-tcpwrappers --enable-save-kb --enable-save-sessions</action>
            </step>
            <step>
                <label>Make</label>
                <action>make</action>
            </step>
            <step>
                <label>Install</label>
                <action>make install</action>
            </step>
        </component>

        <component>
            <name>nessus-plugins</name>
            <distfile>nessus-plugins-%v.tar.gz</distfile>
            <step>
                <label>Configure</label>
                <action>./configure</action>
            </step>
            <step>
                <label>Make</label>
                <action>make</action>
            </step>
            <step>
                <label>Install</label>
                <action>make install</action>
            </step>
            <step>
                <label>Restart daemon</label>
                <action>/etc/rc.d/init.d/nessus start</action>   
            </step>
        </component>
    </install>
</app>
