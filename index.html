<HTML>
<HEAD>
<TITLE>install-app</TITLE>
<LINK REV="made" HREF="mailto:theall@tifaware.com">
<LINK REL="shortcut icon" HREF="http://www.tifaware.com/favicon.ico">
</HEAD>

<!--#include virtual="/header.html"-->
<!--#if expr="$weblint" -->
<BODY BGCOLOR="#FFFFFF">
<!--#endif -->


<H2>install-app</H2>

<H3>Introduction</H3>

<P>This script removes much of the drudgery associated with installing
and upgrading software.  It supports retrieving distribution files and
verifying them as well as configuring / compiling / installing arbitrary
software applications.  Unlike package managers such as Red Hat's rpm,
Debian's dpkg, Sun's pkgadd, etc., <B>install-app</B> works typically
with a application's source, giving you complete flexibility in terms of
configuration and installation.  Indeed, the flexibility is such that
you can even use it with your OS' package manager.</P>

<P>Information about software applications resides in a separate file -
the application info file - specified by <CODE>$app_info</CODE>.  You
must edit it and include information about each application you wish to
manage with this script.</P>

<P>You specify which applications to upgrade / install on the
commandline; you must specify the application name as it appears in the
application info file along with a version number.  You can specify
multiple name / version number pairs.  <B>install-app</B> will retrieve
the distribution file if necessary, verify it if possible, extract it,
and then build / install it.  At each step, you will be prompted to
continue to the next step or skip it.</P>

<P><B>install-app</B> requires Perl 5 along with the following modules:</P>

<UL>
   <LI><CODE>Carp</CODE>
   <LI><CODE>Getopt::Long</CODE>
   <LI><CODE>LWP</CODE>
   <LI><CODE>Text::Wrap</CODE>
</UL>

<P>If your system does not have these modules installed already, visit
<A HREF="http://search.cpan.org/">CPAN</A>.  Note that <CODE>LWP</CODE>
is not included with the default Perl distribution so you may need to
install it yourself.</P>


<H3>Installation</H3>

<OL>
   <LI>Retrieve the script <A HREF="install-app">install-app</A>
      and save it locally.  You may also wish to verify its
      <A HREF="install-app.md5">MD5 checksum</A> or, better, its
      <A HREF="install-app.asc">GPG signature</A> against
      <A HREF="/~theall/gpg.html">my current GPG key</A>.</LI>
   <LI>Retrieve the sample application info file, <A 
      HREF="applications">applications</A>, and save it locally, say in 
      <CODE>/usr/local/etc</CODE>.  Edit it following the comments at the 
      top of the file to support the applications you want to use on your 
      particular host.</LI>
   <LI>Verify ownership and permissions on the script as well as
      the application info file.</LI>
   <LI>Edit the script and set <CODE>$ENV{PATH}</CODE>, 
      <CODE>$app_info</CODE>, and <CODE>$proxy</CODE> according to your 
      environment.  Also, you may wish to adjust the location of the perl 
      interpreter in the first line as well as other variable 
      initializations to suit your tastes.</LI>
</OL>


<H3>Use</H3>

<P>There are several commandline arguments you can use; some override 
variables defined in the script itself:</P>

<BLOCKQUOTE>
<DL>
   <DT>-b, --batch</DT>
   <DD>Don't ask any questsions. NB: you may still be prompted actually 
      running.</DD>

   <DT>-d, --debug</DT>
   <DD>Display debugging messages while running.  NB: installs still occur.</DD>

   <DT>-a, --list-apps</DT>
   <DD>List the applications supported on this system.</DD>

   <DT>-l, --list-steps</DT>
   <DD>List the steps to make and install the application but don't actually 
      do them.</DD>
</DL>
</BLOCKQUOTE>

<P>Examples:</P>
<BLOCKQUOTE>
<DL>
   <DT><CODE>install-app openssl 0.9.7a</CODE></DT>
   <DD>Retrieve / build / install OpenSSL 0.9.7a.</DD>

   <DT><CODE>install-app -b openssl 0.9.7a</CODE></DT>
   <DD>Same as above but do it in batch.</DD>

   <DT><CODE>install-app -l openssl 0.9.7a</CODE></DT>
   <DD>List steps involved in building / installing OpenSSL 0.9.7a.</DD>

   <DT><CODE>install-app --list-apps</CODE></DT>
   <DD>List supported applications.</DD>
</DL>
</BLOCKQUOTE>


<H3>Known Bugs and Caveats</H3>

<P>Currently, I am not aware of any bugs in this script.</P>

<P>The application info file, <CODE>$app_info</CODE>, contains arbitrary
commands that are run as root.  Be careful about what you put in there,
and be careful about its ownership / permissions.</P>

<P>Set <CODE>$ENV{'FTP_PASSIVE'}</CODE> below if your firewall requires
passive mode for FTP file transfers.</P>


<H3>History</H3>

<CENTER>
<TABLE CELLPADDING="5" CELLSPACING="0" WIDTH="95%" BORDER="1">
   <TR>
      <TH ALIGN="left">Date </TH>
      <TH ALIGN="left">Version </TH>
      <TH ALIGN="left">Verification </TH>
      <TH ALIGN="left">Notes<BR></TH>
   </TR>
   <TR>
      <TH ALIGN="left" VALIGN="top">02-Apr-2003 </TH>
      <TD ALIGN="left" VALIGN="top"><A HREF="install-app-1.01">1.01</A> </TD>
      <TD ALIGN="left" VALIGN="top"><A HREF="install-app-1.01.md5">MD5</A> / 
         <A HREF="install-app-1.01.asc">GPG</A> </TD>
      <TD ALIGN="left" VALIGN="top">
      <UL>
         <LI>Fixed glitch with use of an uninitialized value when 
            processing postextract commands while in batch mode.</LI>
         <LI>Changed $app_name to name of sub-application (if it exists) 
            when decoding values with special characters.</LI>
         <LI>Added code to create the base directory if it doesn't already 
            exist.</LI>
      </UL></TD>
   </TR>
   <TR>
      <TH ALIGN="left" VALIGN="top">21-Mar-2003 </TH>
      <TD ALIGN="left" VALIGN="top"><A HREF="install-app-1.00">1.00</A> </TD>
      <TD ALIGN="left" VALIGN="top"><A HREF="install-app-1.00.md5">MD5</A> / 
         <A HREF="install-app-1.00.asc">GPG</A> </TD>
      <TD ALIGN="left" VALIGN="top">
      <UL>
         <LI>Initial version.</LI>
      </UL></TD>
   </TR>
</TABLE>
</CENTER>

<!--#include virtual="/footer.html" -->
<!--#if expr="$weblint" -->
</BODY>
<!--#endif -->
</HTML>
